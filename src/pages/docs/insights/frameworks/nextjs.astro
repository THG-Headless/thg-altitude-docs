---
import DocsLayout from '../../../../layouts/DocsLayout.astro';
import DocsSidebar from '../../../../components/DocsSidebar.astro';
import { getCollection } from 'astro:content';
import { getProduct } from '../../../../config/products';

const docs = await getCollection('docs');
const doc = docs.find(doc => doc.id === 'insights/frameworks/nextjs.mdx');

if (!doc) {
  throw new Error('Next.js framework documentation not found');
}

const product = getProduct('insights');
const { Content, headings } = await doc.render();
---

<DocsLayout
  title={doc.data.title}
  description={doc.data.description}
  product={product}
  headings={headings}
>
  <DocsSidebar slot="sidebar" product={product} />
  <div class="prose prose-slate dark:prose-invert max-w-none">
    <Content />
  </div>
</DocsLayout>