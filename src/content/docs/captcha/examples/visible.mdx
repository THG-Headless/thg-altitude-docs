---
title: "Visible CAPTCHA"
order: 1
description: Visible CAPTCHA implementation examples.
---

# Basic Visible CAPTCHA

Visible CAPTCHAs are rendered using the `render` method. For reCAPTCHA use the invisible = false boolean. 
They execute automatically when a user interacts so there is no need to use the `execute` method in these cases.
Pass your callback function to the `onToken`, this will run when the token has been generated by the CAPTCHA.

```typescript
import { Captcha } from '@thg-altitude/captcha';

const captcha = new Captcha({
    provider: 'hcaptcha', // Or recaptcha, or turnstile
    siteKey: 'your-hcaptcha-site-key',
    // invisible: false, for recaptcha only
});

await captcha.render('captcha-container', 'contact-form', {
    size: 'normal',
    onToken: (token) => {
        console.log('CAPTCHA solved:', token);
    }
});
```


## Framework Integration Examples

### React
```typescript
import { useEffect, useRef } from 'react';
import { Captcha } from '@thg-altitude/captcha';

function ContactForm() {
    const captchaRef = useRef<HTMLDivElement>(null);
    const captcha = useRef<Captcha>();

    useEffect(() => {
        captcha.current = new Captcha({
            provider: 'hcaptcha',
            siteKey: 'your-hcaptcha-site-key'
        });

        if (captchaRef.current) {
            captcha.current.render(captchaRef.current, 'contact-form', {
                onToken: handleCaptchaToken
            });
        }

        return () => {
            captcha.current?.reset('contact-form');
        };
    }, []);

    const handleCaptchaToken = (token: string) => {
        // Handle successful CAPTCHA
        submitForm(token);
    };

    return (
        <form>
            {/* Your form fields */}
            <div ref={captchaRef}></div>
            <button type="submit">Submit</button>
        </form>
    );
}
```

### Vue 3
```typescript
<template>
  <form>
    <!-- Your form fields -->
    <div ref="captchaContainer"></div>
    <button @click="handleSubmit">Submit</button>
  </form>
</template>

<script setup lang="ts">
import { ref, onMounted, onUnmounted } from 'vue';
import { Captcha } from '@thg-altitude/captcha';

const captchaContainer = ref<HTMLDivElement>();
let captcha: Captcha;

onMounted(async () => {
    captcha = new Captcha({
        provider: 'turnstile',
        siteKey: import.meta.env.VITE_TURNSTILE_SITE_KEY
    });

    if (captchaContainer.value) {
        await captcha.render(captchaContainer.value, 'vue-form', {
            onToken: (token) => {
                console.log('CAPTCHA token:', token);
            }
        });
    }
});

onUnmounted(() => {
    captcha?.reset('vue-form');
});
</script>
```